<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>Inspiration for Article Intro Effects | Demo 1</title>
		<meta name="description" content="Inspiration for Article Intro Effects" />
		<meta name="keywords" content="title, header, effect, scroll, inspiration, medium, web design" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<!--[if IE]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	<body class="demo-1">
		<div id="container" class="container intro-effect-push">
			<header class="header">
				<audio id="audio" src="audio/audio.mp3">
					Your browser does not support the <code>audio</code> element.
				</audio>
				
				<div class="bg-img">
					<div id="particles-js" style="position: absolute; top:0; left:0;z-index: 1501; height: 100%; width: 100%;"></div>
					<img src="img/7.jpg" alt="Background Image"/>
				</div>
				
				<div class="title" style="z-index: 1502;">
					<button class="play" id="play">play</button>
					<h1>Grupo finaccess les desea una muy Feliz Navidad un a√±o 2023 lleno de salud y muchas bendiciones</h1>
					<a href="#!" class="trigger" title="Conoce a los ganadores">Conoce a los ganadores</a>
				</div>
			</header>
			
			<button class="trigger" data-info="Click to see the header effect">
				<span>Trigger</span>
			</button>

			<article class="content" style="height: 100vh;">
				<button class="modal-open">1</button>
				<button class="modal-open">2</button>
				<button class="modal-open">3</button>
			</article>

			<footer>soy el footer</footer>
		</div><!-- /container -->

		<div class="modal">
			<div class="texto">
				<button class="modal-close">regresar</button>
				<h2>Bla bla bla soy un texto</h2>
			</div>

			<div class="imagen">
				<img src="https://fakeimg.pl/250x100/">
			</div>
		</div>
		
		<script src="js/classie.js"></script>
		<script src="js/particles.min.js"></script> 
		<script src="js/stats.min.js"></script>
		
		<script>
			particlesJS(
				"particles-js", {
					"particles":{
						"number":{
							"value":160,
							"density":{
								"enable":true,
								"value_area":800
							}
						},
						"color":{
							"value":"#ffffff"
						},
						"shape":{
							"type":"circle",
							"stroke":{
								"width":0,
								"color":"#000000"
							},
							"polygon":{
								"nb_sides":5
							},
							"image":{
								"src":"img/github.svg",
								"width":100,
								"height":100
							}
						},
						"opacity":{
							"value":1,
							"random":true,
							"anim":{
								"enable":true,
								"speed":1,
								"opacity_min":0,
								"sync":false
							}
						},
						"size":{
							"value":3,
							"random":true,
							"anim":{
								"enable":false,
								"speed":4,
								"size_min":0.3,
								"sync":false
							}
						},
						"line_linked":{
							"enable":false,
							"distance":150,
							"color":"#ffffff",
							"opacity":0.4,
							"width":1
						},
						"move":{
							"enable":true,
							"speed":1,
							"direction":"none",
							"random":true,
							"straight":false,
							"out_mode":"out",
							"bounce":false,
							"attract":{
								"enable":false,
								"rotateX":600,
								"rotateY":600}
							}
						},
						"interactivity":{
							"detect_on":"canvas",
							"events":{
								"onhover":{
									"enable":true,
									"mode":"bubble"
								},
								"onclick":{
									"enable":true,
									"mode":"repulse"
								},
								"resize":true
							},
							"modes":{
								"grab":{
									"distance":400,
									"line_linked":{
										"opacity":1
									}
								},
								"bubble":{
									"distance":250,
									"size":0,
									"duration":2,
									"opacity":0,
									"speed":3
								},
								"repulse":{
									"distance":400,
									"duration":0.4
								},
								"push":{
									"particles_nb":4
								},
								"remove":{
									"particles_nb":2
								}
							}
						},
						"retina_detect":true
					});
					
		
			(function() {
				var play = false;

				document.getElementById('play').addEventListener('click', function(evento){
					evento.preventDefault;
					
					play = !play;

					play 
						? document.getElementById('audio').play() 
						: document.getElementById('audio').pause();
				})

				var modal = document.querySelectorAll('.modal-open');

				for(let i = 0; i < modal.length; i++){
					modal[i].addEventListener( 'click', function() { 
						document.querySelector('.modal').classList.add('open');
					} );
				}

				var modalCerrar = document.querySelectorAll('.modal-close');

				for(let i = 0; i < modalCerrar.length; i++){
					modalCerrar[i].addEventListener( 'click', function() {
						document.querySelector('.modal').classList.add('cerrar');

						setTimeout(() => {
							document.querySelector('.modal').classList.remove('cerrar');
							document.querySelector('.modal').classList.remove('open');
						}, 1000);
					} );
				}

				// detect if IE : from http://stackoverflow.com/a/16657946		
				var ie = (function(){
					var undef,rv = -1; // Return value assumes failure.
					var ua = window.navigator.userAgent;
					var msie = ua.indexOf('MSIE ');
					var trident = ua.indexOf('Trident/');

					if (msie > 0) {
						// IE 10 or older => return version number
						rv = parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
					} else if (trident > 0) {
						// IE 11 (or newer) => return version number
						var rvNum = ua.indexOf('rv:');
						rv = parseInt(ua.substring(rvNum + 3, ua.indexOf('.', rvNum)), 10);
					}

					return ((rv > -1) ? rv : undef);
				}());


				// disable/enable scroll (mousewheel and keys) from http://stackoverflow.com/a/4770179					
				// left: 37, up: 38, right: 39, down: 40,
				// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36
				var keys = [32, 37, 38, 39, 40], wheelIter = 0;

				function preventDefault(e) {
					e = e || window.event;
					if (e.preventDefault)
					e.preventDefault();
					e.returnValue = false;  
				}

				function keydown(e) {
					for (var i = keys.length; i--;) {
						if (e.keyCode === keys[i]) {
							preventDefault(e);
							return;
						}
					}
				}

				function touchmove(e) {
					preventDefault(e);
				}

				function wheel(e) {
					// for IE 
					//if( ie ) {
						//preventDefault(e);
					//}
				}

				function disable_scroll() {
					window.onmousewheel = document.onmousewheel = wheel;
					document.onkeydown = keydown;
					document.body.ontouchmove = touchmove;
				}

				function enable_scroll() {
					window.onmousewheel = document.onmousewheel = document.onkeydown = document.body.ontouchmove = null;  
				}

				var docElem = window.document.documentElement,
					scrollVal,
					isRevealed, 
					noscroll, 
					isAnimating,
					container = document.getElementById( 'container' ),
					trigger = container.querySelectorAll( '.trigger' );

				function scrollY() {
					return window.pageYOffset || docElem.scrollTop;
				}
				
				function scrollPage() {
					scrollVal = scrollY();
					
					if( noscroll && !ie ) {
						if( scrollVal < 0 ) return false;
						// keep it that way
						window.scrollTo( 0, 0 );
					}

					if( classie.has( container, 'notrans' ) ) {
						classie.remove( container, 'notrans' );
						return false;
					}

					if( isAnimating ) {
						return false;
					}
					
					if( scrollVal <= 0 && isRevealed ) {
						toggle(0);
					}
					else if( scrollVal > 0 && !isRevealed ){
						toggle(1);
					}
				}

				function toggle( reveal ) {
					isAnimating = true;
					
					if( reveal ) {
						classie.add( container, 'modify' );
					}
					else {
						noscroll = true;
						//disable_scroll();
						classie.remove( container, 'modify' );
					}

					// simulating the end of the transition:
					setTimeout( function() {
						isRevealed = !isRevealed;
						isAnimating = false;
						if( reveal ) {
							noscroll = false;
							enable_scroll();
						}
					}, 1200 );
				}

				// refreshing the page...
				var pageScroll = scrollY();
				noscroll = pageScroll === 0;
				
				//disable_scroll();
				
				if( pageScroll ) {
					isRevealed = true;
					classie.add( container, 'notrans' );
					classie.add( container, 'modify' );
				}
				
				window.addEventListener( 'scroll', scrollPage );
				
				for(let i = 0; i < trigger.length; i++){
					trigger[i].addEventListener( 'click', function() { toggle( 'reveal' ); } );
				}
			})();
		</script>
	</body>
</html>